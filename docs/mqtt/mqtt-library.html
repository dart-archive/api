<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>mqtt library - Dart API</title>
    <!-- required because all the links are pseudo-absolute -->
    <base href="..">

    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:500,400italic,300,400' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="static-assets/prettify.css">
    <link rel="stylesheet" href="static-assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="static-assets/styles.css">

    <meta name="description" content="mqtt library API docs, for the Dart programming language.">
    <link rel="icon" href="static-assets/favicon.png">

    <!-- Do not remove placeholder -->
    <!-- Header Placeholder -->
</head>

<body>

<div id="overlay-under-drawer"></div>

<header class="container-fluid" id="title">
    <nav class="navbar navbar-fixed-top">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 contents">
              <button id="sidenav-left-toggle" type="button">&nbsp;</button>
              <ol class="breadcrumbs gt-separated hidden-xs">
                  <li><a href="index.html">Dartino_SDK</a></li>
                  <li class="self-crumb">mqtt</li>
              </ol>
              <div class="self-name">mqtt</div>
              <form class="search navbar-right" role="search">
                <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
              </form>
            </div> <!-- /col -->
          </div> <!-- /row -->
        </div> <!-- /container -->
    </nav>

    <div class="container masthead">
      <div class="row">
        <div class="col-sm-12 contents">
          <ol class="breadcrumbs gt-separated visible-xs">
              <li><a href="index.html">Dartino_SDK</a></li>
              <li class="self-crumb">mqtt</li>
          </ol>
          <div class="title-description">
              <h1 class="title">
                  <div class="kind">library</div> mqtt
              </h1>
          </div>
          <ul class="subnav">
              <li><a href="mqtt/mqtt-library.html#constants">Constants</a></li>
              <li><a href="mqtt/mqtt-library.html#functions">Functions</a></li>
              <li><a href="mqtt/mqtt-library.html#classes">Classes</a></li>
          </ul>
        </div> <!-- /col -->
      </div> <!-- /row -->
    </div> <!-- /container -->

</header>

<div class="container body">
  <div class="row">

  <div class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <h5><a href="index.html">Dartino_SDK</a></h5>

    <ol>
      <li class="section-title"><a href="index.html">Libraries</a></li>
      <li><a href="dartino/dartino-library.html">dartino</a></li>
      <li><a href="ffi/ffi-library.html">ffi</a></li>
      <li><a href="file/file-library.html">file</a></li>
      <li><a href="gpio/gpio-library.html">gpio</a></li>
      <li><a href="http/http-library.html">http</a></li>
      <li><a href="i2c/i2c-library.html">i2c</a></li>
      <li><a href="mbedtls/mbedtls-library.html">mbedtls</a></li>
      <li><a href="mqtt/mqtt-library.html">mqtt</a></li>
      <li><a href="os/os-library.html">os</a></li>
      <li><a href="raspberry_pi/raspberry_pi-library.html">raspberry_pi</a></li>
      <li><a href="socket/socket-library.html">socket</a></li>
      <li><a href="stm32f746g_disco/stm32f746g_disco-library.html">stm32f746g_disco</a></li>
    </ol>
  </div>

  <div class="col-xs-12 col-sm-9 col-md-8 main-content">

    <section class="desc markdown">
    
          <p>MQTT client library for the <a href="http://mqtt.org/">MQTT protocol</a>, a lightweight
IoT pub/sub messaging protocol.</p>
<p>The implementation uses the <a href="http://git.eclipse.org/c/paho/org.eclipse.paho.mqtt.c.git/about/">Paho C client
library</a>.</p>
<h2>Usage</h2>
<h3>Subscribing to messages</h3>
<pre class="dart prettyprint lang-dart"><code>void main() {
  // Create MQTT client and configure subscriptions
  Client c = new Client('tcp://test.mosquitto.org:1883', 'test123-client2');
  c.AddSubscriber('/foo/bar' , messageHandler);

  // Start the subscription processing loop. This call is not blocking.
  c.StartSubscriptionProcessing();

  // Do other work

  // Clean up (this ends the subscriptions)
  c.Disconnect();
}

void messageHandler(String msg, String topic) {
  print("Received message '$msg' on topic '$topic'");
}
</code></pre>
<p>See <code>/pkg/mqtt/subscribe-sample.dart/</code> for additional details.</p>
<h3>Publishing messages</h3>
<pre class="dart prettyprint lang-dart"><code>void main() {
  // Create MQTT client and publish a message
  Client c = new Client('tcp://test.mosquitto.org:1883', 'test123-client1');
  c.Publish('Hello, World', '/foo/bar');

  // Clean up
  c.Disconnect();
}
</code></pre>
<p>See <code>/pkg/mqtt/publish-sample.dart/</code> for additional details.</p>
<h2>Dependencies</h2>
<p>This Dart library depends on the <a href="http://git.eclipse.org/c/paho/org.eclipse.paho.mqtt.c.git/about/">Paho C
library</a>.
It will load the Paho shared object file (.so file) dynamically at runtime.
Therefore the Paho shared object file needs to be copied into the Dartino
SDK. Follow these instructions to compile and copy the library:</p><ol><li>Get the Paho source code</li></ol>
<pre class="prettyprint lang-dart"><code>$ git clone https://git.eclipse.org/r/paho/org.eclipse.paho.mqtt.c
</code></pre><ol><li>Compile the source code</li></ol>
<pre class="prettyprint lang-dart"><code>$ cd org.eclipse.paho.mqtt.c/
$ make
</code></pre><ol><li>
<p>Copy the library to the lib directory Dartino SDK (substitute <code>&lt;Dartino
SDK location&gt;</code> with the location where you installed the Dartino SDK, e.g.
~/dartino-sdk/)</p></li></ol>
<pre class="prettyprint lang-dart"><code>$ cd org.eclipse.paho.mqtt.c/
$ cp build/output/libpaho-mqtt3c.so &lt;Dartino SDK location&gt;/lib/

</code></pre>
<h2>Reporting issues</h2>
<p>Please file an issue <a href="https://github.com/dartino/sdk/issues/new?title=Add%20title&amp;labels=Area-Package&amp;body=%3Cissue%20description%3E%0A%3Crepro%20steps%3E%0A%3Cexpected%20outcome%3E%0A%3Cactual%20outcome%3E">in the issue tracker</a>.</p>
    
    </section>

    <section class="summary offset-anchor" id="constants">
        <h2>Constants</h2>

        <dl class="properties">
            <dt id="protocolVersionNegotiate" class="constant">
                <span class="name "><a class="" href="mqtt/protocolVersionNegotiate.html">protocolVersionNegotiate</a></span>
                <span class="signature">&#8594; int</span>
            </dt>
            <dd>
                <p>Attempt to connect with MQTT 3.1.1, and if that fails, falls back to 3.1.</p>
                <div>
                  <span class="features">const</span>
                  <span class="signature"><code>0</code></span>
                </div>
            </dd>
            <dt id="protocolVersionOnly_3_1" class="constant">
                <span class="name "><a class="" href="mqtt/protocolVersionOnly_3_1.html">protocolVersionOnly_3_1</a></span>
                <span class="signature">&#8594; int</span>
            </dt>
            <dd>
                <p>Connect only using MQTT 3.1</p>
                <div>
                  <span class="features">const</span>
                  <span class="signature"><code>3</code></span>
                </div>
            </dd>
            <dt id="protocolVersionOnly_3_1_1" class="constant">
                <span class="name "><a class="" href="mqtt/protocolVersionOnly_3_1_1.html">protocolVersionOnly_3_1_1</a></span>
                <span class="signature">&#8594; int</span>
            </dt>
            <dd>
                <p>Connect only using MQTT 3.1.1</p>
                <div>
                  <span class="features">const</span>
                  <span class="signature"><code>4</code></span>
                </div>
            </dd>
        </dl>
    </section>



    <section class="summary offset-anchor" id="functions">
        <h2>Functions</h2>

        <dl class="callables">
            <dt id="disconnect" class="callable">
                <span class="name "><a class="" href="mqtt/disconnect.html">disconnect</a></span><span class="signature">(<wbr>)
                    <span class="returntype parameter">&#8594; void</span>
                </span>
            </dt>
            <dd>
                <p>Disconnect the client, and free all resources.</p>
            </dd>
            <dt id="startSubscriptionProcessing" class="callable">
                <span class="name "><a class="" href="mqtt/startSubscriptionProcessing.html">startSubscriptionProcessing</a></span><span class="signature">(<wbr>)
                    <span class="returntype parameter">&#8594; void</span>
                </span>
            </dt>
            <dd>
                <p>Begin processing of incoming messages. If any received messages match
topic subscribed to via the <code>AddSubscriber</code> event handlers will be called.
The processing happens in a separate process, so this call non-blocking.</p>
            </dd>
        </dl>
    </section>


    <section class="summary offset-anchor" id="classes">
        <h2>Classes</h2>

        <dl>
            <dt id="Client">
                <span class="name "><a class="" href="mqtt/Client-class.html">Client</a></span>
            </dt>
            <dd>
                <p>MQTT Client class<a href="mqtt/Client-class.html">&hellip;</a>
</p>
            </dd>
        </dl>
    </section>


  </div> <!-- /.main-content -->

  <div class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
    <h5>mqtt</h5>
    <ol>
      <li class="section-title"><a href="mqtt/mqtt-library.html#constants">Constants</a></li>
      <li><a class="" href="mqtt/protocolVersionNegotiate.html">protocolVersionNegotiate</a></li>
      <li><a class="" href="mqtt/protocolVersionOnly_3_1.html">protocolVersionOnly_3_1</a></li>
      <li><a class="" href="mqtt/protocolVersionOnly_3_1_1.html">protocolVersionOnly_3_1_1</a></li>
    
    
    
      <li class="section-title"><a href="mqtt/mqtt-library.html#functions">Functions</a></li>
      <li><a class="" href="mqtt/disconnect.html">disconnect</a></li>
      <li><a class="" href="mqtt/startSubscriptionProcessing.html">startSubscriptionProcessing</a></li>
    
    
      <li class="section-title"><a href="mqtt/mqtt-library.html#classes">Classes</a></li>
      <li><a class="" href="mqtt/Client-class.html">Client</a></li>
    
    </ol>
  </div><!--/sidebar-offcanvas-right-->


  </div> <!-- row -->
</div> <!-- container -->

<footer>
    <div class="container-fluid">
        <div class="container">
            <p class="text-center">
                <span class="no-break">
                  Dartino_SDK 
                </span>
                &bull;
                <span class="no-break">
                  <a href="https://www.dartlang.org">
                    <img src="static-assets/favicon.png" alt="Dart" title="Dart" width="16" height="16">
                  </a>
                </span>
                &bull;
                <span class="copyright no-break">
                  <a href="http://creativecommons.org/licenses/by-sa/4.0/">cc license</a>
                </span>
            </p>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/prettify.js"></script>
<script src="static-assets/script.js"></script>
<!-- Do not remove placeholder -->
<!-- Footer Placeholder -->

<!-- Made with <3 by dartdoc version 0.7.4 -->
</body>

</html>
